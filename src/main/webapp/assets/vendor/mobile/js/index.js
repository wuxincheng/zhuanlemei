/*
 *	jQuery dotdotdot 1.6.16
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	Plugin website:
 *	dotdotdot.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
!function(e,t){function a(e,t,a){var i=e.children(),n=!1;e.empty();for(var s=0,o=i.length;o>s;s++){var l=i.eq(s);if(e.append(l),a&&e.append(a),r(e,t)){l.remove(),n=!0;break}a&&a.detach()}return n}function i(t,a,s,o,l){var d=!1,p="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return t.contents().detach().each(function(){var u=this,f=e(u);if("undefined"==typeof u||3==u.nodeType&&0==e.trim(u.data).length)return!0;if(f.is(c))t.append(f);else{if(d)return!0;t.append(f),l&&t[t.is(p)?"after":"append"](l),r(s,o)&&(d=3==u.nodeType?n(f,a,s,o,l):i(f,a,s,o,l),d||(f.detach(),d=!0)),d||l&&l.detach()}}),d}function n(t,a,i,n,o){var p=t[0];if(!p)return!1;var u=d(p),f=-1!==u.indexOf(" ")?" ":"\u3000",m="letter"==n.wrap?"":f,h=u.split(m),g=-1,v=-1,w=0,b=h.length-1;for(n.fallbackToLetter&&0==w&&0==b&&(m="",h=u.split(m),b=h.length-1);b>=w&&(0!=w||0!=b);){var y=Math.floor((w+b)/2);if(y==v)break;v=y,l(p,h.slice(0,v+1).join(m)+n.ellipsis),r(i,n)?(b=v,n.fallbackToLetter&&0==w&&0==b&&(m="",h=h[0].split(m),g=-1,v=-1,w=0,b=h.length-1)):(g=v,w=v)}if(-1==g||1==h.length&&0==h[0].length){var x=t.parent();t.detach();var T=o&&o.closest(x).length?o.length:0;x.contents().length>T?p=c(x.contents().eq(-1-T),a):(p=c(x,a,!0),T||x.detach()),p&&(u=s(d(p),n),l(p,u),T&&o&&e(p).parent().append(o))}else u=s(h.slice(0,g+1).join(m),n),l(p,u);return!0}function r(e,t){return e.innerHeight()>t.maxHeight}function s(t,a){for(;e.inArray(t.slice(-1),a.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),a.lastCharacter.noEllipsis)<0&&(t+=a.ellipsis),t}function o(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function d(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function p(e){do e=e.previousSibling;while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function c(t,a,i){var n,r=t&&t[0];if(r){if(!i){if(3===r.nodeType)return r;if(e.trim(t.text()))return c(t.contents().last(),a)}for(n=p(r);!n;){if(t=t.parent(),t.is(a)||!t.length)return!1;n=p(t[0])}if(n)return c(e(n),a)}return!1}function u(t,a){return t?"string"==typeof t?(t=e(t,a),t.length?t:!1):t.jquery?t:!1:!1}function f(e){for(var t=e.innerHeight(),a=["paddingTop","paddingBottom"],i=0,n=a.length;n>i;i++){var r=parseInt(e.css(a[i]),10);isNaN(r)&&(r=0),t-=r}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var n=this;n.data("dotdotdot")&&n.trigger("destroy:dot"),n.data("dotdotdot-style",n.attr("style")||""),n.css("word-wrap","break-word"),"nowrap"===n.css("white-space")&&n.css("white-space","normal"),n.bind_events=function(){return n.bind("update:dot",function(t,o){t.preventDefault(),t.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:f(n),l.maxHeight+=l.tolerance,"undefined"!=typeof o&&(("string"==typeof o||o instanceof HTMLElement)&&(o=e("<div />").append(o).contents()),o instanceof e&&(s=o)),h=n.wrapInner('<div class="dotdotdot" />').children(),h.contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var p=!1,c=!1;return d.afterElement&&(p=d.afterElement.clone(!0),p.show(),d.afterElement.detach()),r(h,l)&&(c="children"==l.wrap?a(h,l,p):i(h,n,h,l,p)),h.replaceWith(h.contents()),h=null,e.isFunction(l.callback)&&l.callback.call(n[0],c,s),d.isTruncated=c,c}).bind("isTruncated:dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],d.isTruncated),d.isTruncated}).bind("originalContent:dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],s),s}).bind("destroy:dot",function(e){e.preventDefault(),e.stopPropagation(),n.unwatch().unbind_events().contents().detach().end().append(s).attr("style",n.data("dotdotdot-style")||"").data("dotdotdot",!1)}),n},n.unbind_events=function(){return n.unbind(".dot"),n},n.watch=function(){if(n.unwatch(),"window"==l.watch){var t=e(window),a=t.width(),i=t.height();t.bind("resize.dot"+d.dotId,function(){a==t.width()&&i==t.height()&&l.windowResizeFix||(a=t.width(),i=t.height(),c&&clearInterval(c),c=setTimeout(function(){n.trigger("update:dot")},100))})}else p=o(n),c=setInterval(function(){if(n.is(":visible")){var e=o(n);(p.width!=e.width||p.height!=e.height)&&(n.trigger("update:dot"),p=e)}},500);return n},n.unwatch=function(){return e(window).unbind("resize.dot"+d.dotId),c&&clearInterval(c),n};var s=n.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),d={},p={},c=null,h=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=u(l.after,n),d.isTruncated=!1,d.dotId=m++,n.data("dotdotdot",!0).bind_events().trigger("update:dot"),l.watch&&n.watch(),n},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(){};var m=1,h=e.fn.html;e.fn.html=function(a){return a!=t&&!e.isFunction(a)&&this.data("dotdotdot")?this.trigger("update",[a]):h.apply(this,arguments)};var g=e.fn.text;e.fn.text=function(a){return a!=t&&!e.isFunction(a)&&this.data("dotdotdot")?(a=e("<div />").text(a).html(),this.trigger("update",[a])):g.apply(this,arguments)}}}(window.jQuery||window.Zepto),function(e,t){t.highConcurrencyConfig={sampleRate:{rate:parseFloat(e("body").attr("data-sampleRate")||1)}},e.fn.utils={smartDate:function(t){"string"==typeof t&&(t=e(t)),t.each(function(){var t,a,i=e(this),n=!1,r=!1,s=!1,o=new Date;i.attr("data-originDate")&&(t=new Date(i.attr("data-originDate").replace(/-/g,"/")),a=Math.round((o.getTime()-t.getTime())/6e4),a<=60*o.getHours()&&(n=!0),o.getDate()-t.getDate()==1&&(r=!0),o.getFullYear()-t.getFullYear()>=1&&(s=!0),i.text(30>a&&n?"\u521a\u521a":60>a&&n?a+" \u5206\u949f\u524d":1440>a&&n?Math.floor(a/60)+" \u5c0f\u65f6\u524d":2880>a&&r?"\u6628\u5929":s?t.getFullYear()+" \u5e74 "+(t.getMonth()+1)+" \u6708 "+t.getDate()+" \u65e5":t.getMonth()+1+" \u6708 "+t.getDate()+" \u65e5"))})},smartDotdotdot:function(t){"string"==typeof t&&(t=e(t)),t.each(function(){e(this);t.dotdotdot({wrap:"letter"})})},isLogined:function(){return"true"==e(".com-header").attr("data-isLogined")?!0:!1},getComponentInstance:function(t){var a;return"undefined"==typeof t?null:("string"==typeof t&&(t=e(t)),t=t.eq(0),a=t.attr("data-guid"),COMS[a])},isMakeSample:function(){var e,a=!1;return t.highConcurrencyConfig&&(e=t.highConcurrencyConfig.sampleRate),Math.random()<e.rate&&(a=!0),a},transitionEnd:function(e,t){function a(r){if(r.target===this)for(t.call(this,r),i=0;i<n.length;i++)e.off(n[i],a)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(t)for(i=0;i<n.length;i++)e.on(n[i],a)},throttle:function(e,t,a){var i=!1;return a||(a={}),function(){var n=this,r=arguments;i||(a.leading!==!1&&e.apply(n,r),i=!0,setTimeout(function(){a.trailing!==!1&&e.apply(n,r),i=!1},t))}},debounce:function(e,t,a){var i;a||(a={});var n=!1;return function(){var r=this,s=arguments;n||a.leading===!1||e.apply(r,s),n=!0,i&&clearTimeout(i),i=setTimeout(function(){a.trailing!==!1&&e.apply(r,s),n=!1},t)}},showNotification:function(a){var i='<div class="com-notification">                                        <div class="notification-bd">                                            <p class="msg"></p>                                        </div>                                    </div>';0==e(".com-notification").length&&e("body").append(i),e(".com-notification").find(".msg").text(a||"\u51fa\u9519\u5566~"),e(".com-notification").css({left:(e(t).outerWidth()-e(".com-notification").outerWidth())/2,top:(e(t).outerHeight()-e(".com-notification").outerHeight())/2-40}),e(".com-notification").fadeIn(),setTimeout(function(){e.fn.utils.hideNotification()},2e3)},hideNotification:function(){e(".com-notification").length&&e(".com-notification").fadeOut(function(){e(".com-notification").remove()})},isLogin:function(){var t=e(".com-header .signin");return t.hasClass("hidden")?!1:!0},template:function(t,a,i){var n,r=/\\|'|\r|\n|\t|\u2028|\u2029/g;i=e.extend({},i,{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g});var s=new RegExp([(i.escape||noMatch).source,(i.interpolate||noMatch).source,(i.evaluate||noMatch).source].join("|")+"|$","g"),o=0,l="__p+='";t.replace(s,function(e,a,i,n,s){return l+=t.slice(o,s).replace(r,function(e){return"\\"+escapes[e]}),a&&(l+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'"),i&&(l+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),n&&(l+="';\n"+n+"\n__p+='"),o=s+e.length,e}),l+="';\n",i.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{n=new Function(i.variable||"obj","_",l)}catch(d){throw d.source=l,d}if(a)return n(a);var p=function(e){return n.call(this,e)};return p.source="function("+(i.variable||"obj")+"){\n"+l+"}",p}}}(window.jQuery||window.Zepto,window,document),function(e){function t(){var t=e("body"),a=e.fn.utils.getComponentInstance(".com-header");a&&(a.updateLoginInfo(),t.find(".com-login-popup").on("LoginPopup::loginsuccess",function(){e.fn.utils.getComponentInstance(".com-header").updateLoginInfo()}),t.find(".com-login-popup").on("LoginPopup::registersuccess",function(){e.fn.utils.getComponentInstance(".com-header").updateLoginInfo()}))}e.fn.initLoginStatus=t}(window.jQuery||window.Zepto,window,document),function(e,t){function a(a){function i(){d=!0,e.ajax({url:n,type:"GET",dataType:"json",data:e.extend(a.param,{page:o}),success:function(t){if(t&&t.status){var i=t.data,n=e(i.html);elHTMLContainer.append(n),a.callback&&(n=a.callback(n)),i.page?(d=!1,o=i.page):(l=e.fn.utils.getComponentInstance(s),l.setStatus("stop"))}},error:function(){}})}var n,r,s,o,l,d=(e("body"),!1);a=e.extend({prefetch:!1,page:1,baseUrl:null,elContainer:null,elLoader:null,param:{}},a),o=a.page,n=a.baseUrl,r=a.elContainer,elHTMLContainer=a.elHTMLContainer||r,s=a.elLoader,"/"!=n[n.length-1]&&(n+="/"),a.prefetch&&i(),e(t).on("scroll",function(){if(!d){var a=e(t).scrollTop(),n=e(t).height(),s=r.height(),o=r.offset().top,l=120;a+n+l>=o+s&&i()}})}function i(a){function i(){l=!0,e.ajax({url:n+o+".json",type:"GET",dataType:"json",data:{},success:function(t){if(t&&t.status){var i=t.data,n=e(i.html);elHTMLContainer.append(n),a.callback&&a.callback(n),i.last_key?(l=!1,o=i.last_key):(comLoader=e.fn.utils.getComponentInstance(s),comLoader.setStatus("stop"))}else e.fn.utils.showNotification(t.message)},error:function(){e.fn.utils.showNotification(),comLoader=e.fn.utils.getComponentInstance(s),comLoader.setStatus("vhidden")}})}var n,r,s,o,l=(e("body"),!1);return a=e.extend({lastKey:0,baseUrl:null,elContainer:null,elHTMLContainer:null,elLoader:null},a),o=a.lastKey,n=a.baseUrl,r=a.elContainer,elHTMLContainer=a.elHTMLContainer||r,s=a.elLoader,o&&"0"!=o?("/"!=n[n.length-1]&&(n+="/"),a.prefetch&&i(),void e(t).on("scroll",function(){if(!l){var a=e(t).scrollTop(),n=e(t).height(),s=r.height(),o=r.offset().top,d=120;a+n+d>=o+s&&i()}})):(comLoader=e.fn.utils.getComponentInstance(s),void comLoader.setStatus("stop"))}function n(e){switch(e=e||{},e.type){case"page":a(e);break;case"lastKey":i(e);break;default:i(e)}}e.fn.initLoadMore=n}(window.jQuery||window.Zepto,window,document),function(e,t){function a(a){var i=a.elContainer,n=a.elOriginContainer,r=e('<div class="packery-item combo">'),s=e('<div class="packery-item single">');n.find(".com-grid-article, .com-grid-key-article, .com-grid-paper, .com-grid-makemoney").each(function(){var t=e(this),a=i.find(".packery-item:last"),n=a.children().length;return a.hasClass("combo")?void(t.hasClass("com-grid-article")||t.hasClass("com-grid-makemoney")?a.append(t):(i.append(s.clone().append(t)),n%2==1&&(i.append(r.clone().append(a.children().last())),!a.children().length&&a.remove()))):!a.length||a.hasClass("single")?void i.append(t.hasClass("com-grid-article")||t.hasClass("com-grid-makemoney")?r.clone().append(t):s.clone().append(t)):void 0}),"Android"==e.ua.os.name&&"QQBrowser"==e.ua.browser.name&&i.find(".combo .com-grid-article").css("width",(e(t).width()-2)/2)}e.fn.initLayout=a}(window.jQuery||window.Zepto,window,document),function(e){function t(){var t=e("body");t.on("click","a",function(t){var a=e(t.currentTarget);return"_blank"!=a.attr("target")&&a.attr("target","_self"),!0})}e.fn.initLink=t}(window.jQuery||window.Zepto,window,document),function(e,t,a){var i=0,n=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};n.prototype={init:function(){var e=this,a=e.el;return e.bindEvents(),t.COMS=t.COMS||[],a.attr("data-initialized","true"),a.attr("data-guid",t.COMS.length),t.COMS.push(e),e},bindEvents:function(){var t=this,a=t.el;a.on("click","form.login .btn.submit",function(i){i.preventDefault();var n=e(i.currentTarget),r=n.parents("form");e.ajax({url:"/users/sign_in",type:"POST",dataType:"json",data:{"user[remember_me]":!0,"user[email]":r.find('[name="user[email]"]').val(),"user[password]":r.find('[name="user[password]"]').val(),authenticity_token:e('[name="csrf-token"]').attr("content")},success:function(i){i&&i.status?(a.trigger("LoginPopup::loginsuccess"),t.closePopup()):e.fn.utils.showNotification(i.message)},error:function(t){var a=t.responseJSON;e.fn.utils.showNotification(a.error)}})}),a.on("click","form.register .btn.submit",function(t){t.preventDefault();var i=e(t.currentTarget),n=i.parents("form");e.ajax({url:"/mobile/users/verify",type:"POST",dataType:"json",data:{"user[email]":n.find('[name="user[email]"]').val(),"user[password]":n.find('[name="user[password]"]').val(),"user[password_confirmation]":n.find('[name="user[password_confirmation]"]').val(),authenticity_token:e('[name="csrf-token"]').attr("content")},success:function(t){if(t&&t.status){var n=i.parents("form"),r=a.find("form.info");n.hide().removeClass("active"),r.fadeIn(400,function(){r.addClass("active")})}else e.fn.utils.showNotification(t.message)},error:function(t){var a=t.responseJSON;e.fn.utils.showNotification(a.error)}})}),a.on("click","form.info .btn.submit",function(i){if(i.preventDefault(),t.validateInfoForm()){var n=e(i.currentTarget),r=n.parents("form"),s=a.find("form.register");e.ajax({url:"/users",type:"POST",dataType:"json",data:{"user[email]":s.find('[name="user[email]"]').val(),"user[password]":s.find('[name="user[password]"]').val(),"user[password_confirmation]":s.find('[name="user[password_confirmation]"]').val(),"user[username]":r.find('[name="user[username]"]').val(),"user[description]":r.find('[name="user[description]"]').val(),authenticity_token:e('[name="csrf-token"]').attr("content")},success:function(e){e&&e.status&&(a.trigger("LoginPopup::registersuccess"),t.closePopup())},error:function(t){var a=t.responseJSON;e.fn.utils.showNotification(a.error)}})}}),a.on("click","form.findpassword .btn.submit",function(a){a.preventDefault();var i=e(a.currentTarget),n=i.parents("form");e.ajax({url:"/users/password",type:"POST",dataType:"json",data:{"user[email]":n.find('[name="user[email]"]').val(),authenticity_token:e('[name="csrf-token"]').attr("content")},success:function(a){a&&a.status?(e.fn.utils.showNotification(a.message),t.closePopup()):e.fn.utils.showNotification(a.message)},error:function(t){var a=t.responseJSON;e.fn.utils.showNotification(a.error)}})}),a.on("click",".form-links a",function(t){t.preventDefault();var i=e(t.currentTarget),n=i.parents("form"),r=a.find(i.attr("data-toForm"));n.hide().removeClass("active"),r.fadeIn(400,function(){r.addClass("active")})}),a.on("click",".close-popup",function(e){e.preventDefault(),t.closePopup()}),a.on("transitionend webkitTransitionEnd oTransitionEnd",function(){a.hasClass("modal-in")?(i=e("body").scrollTop(),e("body").scrollTop(0),e("html").addClass("fixed"),a.addClass("absolute")):a.removeClass("modal-out").hide()})},updateLoginInfo:function(){var i,n,r=this,s=r.el,o=s.find(".section-right .user");t.innerWidth?i=t.innerWidth:a.body&&a.body.clientWidth&&(i=t.body.clientWidth),t.innerHeight?n=t.innerHeight:a.body&&a.body.clientHeight&&(n=t.body.clientHeight),e.ajax({url:"/get_user_and_radar.json",type:"GET",dataType:"json",data:{winWidth:i,winHeight:n},success:function(t){var a=e.fn.utils.getComponentInstance(".com-grid-login"),i=e.fn.utils.getComponentInstance(".com-page-footer"),n=e.fn.utils.getComponentInstance(".com-recommend-articles");if(t&&t.status){var r=t.data;o.attr("data-isLogined",!0),o.find(".avatar img").attr("src",r.face),o.find(".avatar").attr("href","/display/users/"+r.id),o.find(".text").attr("href","/display/users/"+r.id).text(r.name),o.find(".logout").removeClass("hidden"),a&&(a.updateLoginInfo(r),a.renderRadar(r.radar)),i&&i.updateLoginInfo(r),n&&n.setCuriositiesData(r.radar)}else a&&a.renderRadar(),n&&n.setCuriositiesData(!0)},error:function(){}})},validateInfoForm:function(){var t=this,a=t.el,i=a.find("form.info"),n=i.find('[name="user[username]"]').val();return n?!0:(e.fn.utils.showNotification("\u8bf7\u586b\u5165\u6635\u79f0"),!1)},openPopup:function(){var t=this,a=t.el;return a.show(),0==e(".popup-overlay").length&&e("body").append('<div class="popup-overlay">'),e(".popup-overlay").addClass("modal-overlay-visible"),setTimeout(function(){a.removeClass("modal-out").addClass("modal-in")},50),!0},closePopup:function(){var t=this,a=t.el,n=e(".popup-overlay");return a.removeClass("absolute"),e("html").removeClass("fixed"),setTimeout(function(){e("body").scrollTop(i),a.length===e(".popup.modal-in").length&&n.removeClass("modal-overlay-visible"),a.removeClass("modal-in").addClass("modal-out")},50),!0}},e.fn.LoginPopup=function(t){var a;return this.each(function(){var i=e(this);"true"!=i.attr("data-initialized")&&(a=new n(i,t),a.init())})}}(window.jQuery||window.Zepto,window,document),function(e,t,a){var i=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};i.prototype={init:function(){var a=this,i=a.el;return e(".com-login-popup").LoginPopup(),a.bindEvents(),t.COMS=t.COMS||[],i.attr("data-guid",t.COMS.length),i.attr("data-initialized","true"),t.COMS.push(a),a},bindEvents:function(){var t=this,i=t.el;i.on("click",".open-popup",function(t){t.preventDefault();e(t.currentTarget);e.fn.utils.getComponentInstance(".com-login-popup").openPopup()}),i.on("click",".user.signin .account-logout a",function(t){t.preventDefault();var a=e(t.currentTarget),i=a.parents("form");i.find('[name="authenticity_token"]').val(e('[name="csrf-token"]').attr("content")),i.submit()}),i.on("click",".user.signin .user-hd",function(t){t.preventDefault();var a=e(t.currentTarget),i=a.siblings(".user-bd");i.toggleClass("hidden"),e("body").toggleClass("menu-overlay-show")}),e(a).on("click",".menu-overlay",function(t){t.preventDefault();var a=i.find(".signin .user-bd");a.toggleClass("hidden"),e("body").toggleClass("menu-overlay-show")})},updateLoginInfo:function(){var i,n,r=this,s=r.el,o=s.find(".user.signin"),l=s.find(".user.unsign");t.innerWidth?i=t.innerWidth:a.body&&a.body.clientWidth&&(i=t.body.clientWidth),t.innerHeight?n=t.innerHeight:a.body&&a.body.clientHeight&&(n=t.body.clientHeight),e.ajax({url:"/mobile/get_user_and_radar.json",type:"GET",dataType:"json",data:{winWidth:i,winHeight:n},success:function(t){var a=e.fn.utils.getComponentInstance(".com-sidebar-panel");if(t&&t.status){var i=t.data;s.attr("data-isLogined","true"),o.removeClass("hidden"),l.addClass("hidden"),o.find(".name").text(i.name),o.find(".items .item:eq(0)").find("a").attr("href","/webapp/users/"+i.id),a&&(a.updateLoginInfo(i),a.renderRadar(i.radar))}else a&&a.renderRadar()},error:function(){}})}},e.fn.Header=function(t){var a;return this.each(function(){var n=e(this);"true"!=n.attr("data-initialized")&&(a=new i(n,t),a.init())})}}(window.jQuery||window.Zepto,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=e.event.dispatch||e.event.handle,a=e.event.special,i="D"+ +new Date,n="D"+(+new Date+1);a.scrollstart={setup:function(n){var r,s=e.extend({latency:a.scrollstop.latency},n),o=function(e){var a=this,i=arguments;r?clearTimeout(r):(e.type="scrollstart",t.apply(a,i)),r=setTimeout(function(){r=null},s.latency)};e(this).bind("scroll",o).data(i,o)},teardown:function(){e(this).unbind("scroll",e(this).data(i))}},a.scrollstop={latency:250,setup:function(i){var r,s=e.extend({latency:a.scrollstop.latency},i),o=function(e){var a=this,i=arguments;r&&clearTimeout(r),r=setTimeout(function(){r=null,e.type="scrollstop",t.apply(a,i)},s.latency)};e(this).bind("scroll",o).data(n,o)},teardown:function(){e(this).unbind("scroll",e(this).data(n))}}}),/**
 * UAParser.js v0.7.9
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2015 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */
function(e,t){"use strict";var a="0.7.9",i="",n="?",r="function",s="undefined",o="object",l="string",d="major",p="model",c="name",u="type",f="vendor",m="version",h="architecture",g="console",v="mobile",w="tablet",b="smarttv",y="wearable",x="embedded",T={extend:function(e,t){for(var a in t)-1!=="browser cpu device engine os".indexOf(a)&&t[a].length%2===0&&(e[a]=t[a].concat(e[a]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.split(".")[0]:t}},C={rgx:function(){for(var e,a,i,n,l,d,p,c=0,u=arguments;c<u.length&&!d;){var f=u[c],m=u[c+1];if(typeof e===s){e={};for(n in m)l=m[n],typeof l===o?e[l[0]]=t:e[l]=t}for(a=i=0;a<f.length&&!d;)if(d=f[a++].exec(this.getUA()))for(n=0;n<m.length;n++)p=d[++i],l=m[n],typeof l===o&&l.length>0?2==l.length?e[l[0]]=typeof l[1]==r?l[1].call(this,p):l[1]:3==l.length?e[l[0]]=typeof l[1]!==r||l[1].exec&&l[1].test?p?p.replace(l[1],l[2]):t:p?l[1].call(this,p,l[2]):t:4==l.length&&(e[l[0]]=p?l[3].call(this,p.replace(l[1],l[2])):t):e[l]=p?p:t;c+=2}return e},str:function(e,a){for(var i in a)if(typeof a[i]===o&&a[i].length>0){for(var r=0;r<a[i].length;r++)if(T.has(a[i][r],e))return i===n?t:i}else if(T.has(a[i],e))return i===n?t:i;return e}},S={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,m],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[c,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[c,m],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[c,m],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],m],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[m,[c,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[m,[c,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[m,[c,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[m,C.str,S.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],m],[/fxios\/([\w\.-]+)/i],[m,[c,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,T.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",T.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[h,T.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[p,f,[u,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[p,[f,"Apple"],[u,w]],[/(apple\s{0,1}tv)/i],[[p,"Apple TV"],[f,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,p,[u,w]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[p,[f,"Amazon"],[u,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[p,C.str,S.device.amazon.model],[f,"Amazon"],[u,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[p,f,[u,v]],[/\((ip[honed|\s\w*]+);/i],[p,[f,"Apple"],[u,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,p,[u,v]],[/\(bb10;\s(\w+)/i],[p,[f,"BlackBerry"],[u,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[p,[f,"Asus"],[u,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[f,"Sony"],[p,"Xperia Tablet"],[u,w]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[f,"Sony"],[p,"Xperia Phone"],[u,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[f,p,[u,g]],[/android.+;\s(shield)\sbuild/i],[p,[f,"Nvidia"],[u,g]],[/(playstation\s[3portablevi]+)/i],[p,[f,"Sony"],[u,g]],[/(sprint\s(\w+))/i],[[f,C.str,S.device.sprint.vendor],[p,C.str,S.device.sprint.model],[u,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[f,p,[u,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[f,[p,/_/g," "],[u,v]],[/(nexus\s9)/i],[p,[f,"HTC"],[u,w]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[p,[f,"Microsoft"],[u,g]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[f,"Microsoft"],[u,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[p,[f,"Motorola"],[u,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[p,[f,"Motorola"],[u,w]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[f,"Samsung"],p,[u,w]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[f,"Samsung"],p,[u,v]],[/(samsung);smarttv/i],[f,p,[u,b]],[/\(dtv[\);].+(aquos)/i],[p,[f,"Sharp"],[u,b]],[/sie-(\w+)*/i],[p,[f,"Siemens"],[u,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[f,"Nokia"],p,[u,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[p,[f,"Acer"],[u,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],p,[u,w]],[/(lg) netcast\.tv/i],[f,p,[u,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[p,[f,"LG"],[u,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[p,[f,"Lenovo"],[u,w]],[/linux;.+((jolla));/i],[f,p,[u,v]],[/((pebble))app\/[\d\.]+\s/i],[f,p,[u,y]],[/android.+;\s(glass)\s\d/i],[p,[f,"Google"],[u,y]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[p,/_/g," "],[f,"Xiaomi"],[u,v]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[u,T.lowerize],f,p]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[c,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,m],[/rv\:([\w\.]+).*(gecko)/i],[m,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[m,C.str,S.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[m,C.str,S.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],m],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],m],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,m],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[c,m]]},M=function(t,a){if(!(this instanceof M))return new M(t,a).getResult();var n=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:i),r=a?T.extend(k,a):k;return this.getBrowser=function(){var e=C.rgx.apply(this,r.browser);return e.major=T.major(e.version),e},this.getCPU=function(){return C.rgx.apply(this,r.cpu)},this.getDevice=function(){return C.rgx.apply(this,r.device)},this.getEngine=function(){return C.rgx.apply(this,r.engine)},this.getOS=function(){return C.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n),this};M.VERSION=a,M.BROWSER={NAME:c,MAJOR:d,VERSION:m},M.CPU={ARCHITECTURE:h},M.DEVICE={MODEL:p,VENDOR:f,TYPE:u,CONSOLE:g,MOBILE:v,SMARTTV:b,TABLET:w,WEARABLE:y,EMBEDDED:x},M.ENGINE={NAME:c,VERSION:m},M.OS={NAME:c,VERSION:m},typeof exports!==s?(typeof module!==s&&module.exports&&(exports=module.exports=M),exports.UAParser=M):typeof define===r&&define.amd?define(function(){return M}):e.UAParser=M;var E=e.jQuery||e.Zepto;if(typeof E!==s){var P=new M;E.ua=P.getResult(),E.ua.get=function(){return P.getUA()},E.ua.set=function(e){P.setUA(e);var t=P.getResult();for(var a in t)E.ua[a]=t[a]}}}("object"==typeof window?window:this),function(e,t,a){var i,n=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};n.prototype={init:function(){var a=this,i=a.el;return e.event.special.scrollstop.latency=100,a.initIScroll(),a.bindEvents(),t.COMS=t.COMS||[],i.attr("data-initialized","true"),i.attr("data-guid",t.COMS.length),t.COMS.push(a),a},bindEvents:function(){var i,n=this,r=n.el;"Mobile Safari"==e.ua.browser.name&&(e(t).on("scrollstart",function(){r.find(".open-panel").hide()}),e(t).on("scrollstop",function(){r.find(".open-panel").fadeIn("fast")})),r.on("click",".sidebar-panel-hd .name, .sidebar-panel-hd .avatar",function(t){t.preventDefault();e(t.currentTarget);return"true"==r.attr("data-isLogined")?!1:(n.closePanel(),i=e.fn.utils.getComponentInstance(".com-login-popup"),void(i&&i.openPopup()))}),r.on("click",".sidebar-panel-bd .category.marked",function(){return"true"==r.attr("data-isLogined")?!0:(n.closePanel(),i=e.fn.utils.getComponentInstance(".com-login-popup"),i&&i.openPopup(),!1)}),e(a).on("touchstart",".panel-overlay",function(e){e.preventDefault(),n.closePanel()}),e(a).on("click",".panel-overlay",function(e){e.preventDefault()}),r.on("touchstart",".open-panel",function(e){e.preventDefault(),r.hasClass("active")?n.closePanel():n.openPanel()}),r.on("click",".open-panel",function(e){e.preventDefault()}),r.on("transitionend webkitTransitionEnd oTransitionEnd",function(t){t.preventDefault();var a=e(t.currentTarget);a.hasClass("active")||e("body").removeClass("panel-closing")})},initIScroll:function(){var e=this,t=e.el;i=new IScroll(t.find(".iscroll-container")[0],{preventDefaultException:{tagName:/^(A)$/}})},renderRadar:function(e){var t,a,i,n=this,r=n.el,s=r.find(".radar"),o={labels:["\u989c				\u63a7","\u6280\u672f\u5b85","\u5546\u4e1a\u5bb6","\u4e8c\u6b21\u5143","\u5f00\u8111\u6d1e"],datasets:[{fillColor:"rgba(0,0,0,0.2)",strokeColor:"transparent",pointColor:"rgba(255,200,31,1)",pointStrokeColor:"rgba(255,200,31,0.15)",data:[100,100,100,100,100]},{fillColor:"rgba(0,0,0,0.2)",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",data:[90,90,90,90,90]},{fillColor:"rgba(255,200,31,0.05)",strokeColor:"rgba(255,200,31,1)",strokeWidth:6,pointColor:"transparent",pointStrokeColor:"transparent",data:[45,45,45,45,45]}]};if(s[0]&&s[0].getContext&&(t=s[0].getContext("2d"))){if(e&&e.length)for(o.labels=[],o.datasets[2].data=[],a=0,i=e.length;i>a;a++)"\u989c\u63a7"==e[a].title&&(e[a].title="\u989c				\u63a7"),o.labels.push(e[a].title),o.datasets[2].data.push(100*e[a].value);comRadar=new Chart(t).Radar(o,{showTooltips:!1,scaleShowLine:!1,angleShowLineOut:!1,pointLabelFontColor:"#ffffff",datasetStrokeWidth:1,pointDotRadius:2,pointDotStrokeWidth:5})}},updateLoginInfo:function(e){var t=this,a=t.el,i=a.find(".sidebar-panel-hd");e&&(a.attr("data-isLogined","true"),i.find(".avatar img").attr("src",e.face),i.find(".name").text(e.name),e.description?i.find(".description").text(e.description):i.find(".description").remove())},openPanel:function(t){var a,n=this,r=n.el,t=t||"left",s=r.hasClass("panel-reveal")?"reveal":"cover";return r.hasClass("active")?!1:(n.closePanel(),r.css({display:"block"}).addClass("active"),a=r[0].clientLeft,i&&i.refresh(),e("body").addClass("with-panel-"+t+"-"+s),!0)},closePanel:function(){var t=this,a=(t.el,e(".panel.active"));if(0===a.length)return!1;var i=a.hasClass("panel-reveal")?"reveal":"cover",n=a.hasClass("panel-left")?"left":"right";a.removeClass("active"),e("body").addClass("panel-closing").removeClass("with-panel-"+n+"-"+i)}},e.fn.SidebarPanel=function(t){var a;return this.each(function(){var i=e(this);"true"!=i.attr("data-initialized")&&(a=new n(i,t),a.init())})}}(window.jQuery||window.Zepto,window,document),function(e,t){var a=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};a.prototype={init:function(){var e=this,a=e.el;return e.bindEvents(),t.COMS=t.COMS||[],a.attr("data-guid",t.COMS.length),a.attr("data-initialized","true"),t.COMS.push(e),e},bindEvents:function(){{var e=this;e.el}},setStatus:function(e){var t=this,a=t.el;e=e||"loading","stop"==e?a.removeClass("loading"):"vhidden"==e?(a.removeClass("loading"),a.css("visibility","hidden")):a.addClass("loading")}},e.fn.Loader=function(t){var i;return this.each(function(){var n=e(this);"true"!=n.attr("data-initialized")&&(i=new a(n,t),i.init())})}}(window.jQuery||window.Zepto,window,document),function(e,t){var a=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};a.prototype={init:function(){var e=this,a=e.el;return e.formatCount(),e.bindEvents(),t.COMS=t.COMS||[],a.attr("data-initialized","true"),a.attr("data-guid",t.COMS.length),t.COMS.push(e),e},bindEvents:function(){{var e=this;e.el}},formatCount:function(){var e,t,a,i=this,n=i.el,r=n.find(".grid-paper-bd .count"),s=!1;r.length&&(t=new Date,e=new Date(r.attr("data-publishDate").replace(/-/g,"/")),a=Math.round((t.getTime()-e.getTime())/6e4),a<=60*t.getHours()&&(s=!0),s&&(r.addClass("new"),r.find(".num").remove(),r.find(".text").text("NEW")),r.find(".num, .text").css("display","block"))}},e.fn.GridPaper=function(t){var i;return this.each(function(){var n=e(this);"true"!=n.attr("data-initialized")&&(i=new a(n,t),i.init())})}}(window.jQuery||window.Zepto,window,document),function(e,t){var a=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};a.prototype={init:function(){var a=this,i=a.el;return e.fn.utils.smartDate(i.find(".smart-date")),a.bindEvents(),t.COMS=t.COMS||[],i.attr("data-initialized","true"),i.attr("data-guid",t.COMS.length),t.COMS.push(a),a},bindEvents:function(){{var e=this;e.el}}},e.fn.GridArticle=function(t){var i;return this.each(function(){var n=e(this);"true"!=n.attr("data-initialized")&&(i=new a(n,t),i.init())})}}(window.jQuery||window.Zepto,window,document),function(e,t){var a=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};a.prototype={init:function(){var a=this,i=a.el;return e.fn.utils.smartDate(i.find(".smart-date")),a.bindEvents(),t.COMS=t.COMS||[],i.attr("data-initialized","true"),i.attr("data-guid",t.COMS.length),t.COMS.push(a),a},bindEvents:function(){{var e=this;e.el}}},e.fn.GridKeyArticle=function(t){var i;return this.each(function(){var n=e(this);"true"!=n.attr("data-initialized")&&(i=new a(n,t),i.init())})}}(window.jQuery||window.Zepto,window,document),/**
 * Swiper 3.0.6
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * 
 * http://www.idangero.us/swiper/
 * 
 * Copyright 2015, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 * 
 * Licensed under MIT
 * 
 * Released on: March 27, 2015
 */
function(){"use strict";function e(e){e.fn.swiper=function(t){var a;return e(this).each(function(){var e=new Swiper(this,t);a||(a=e)}),a}}window.Swiper=function(e,t){function a(){return"horizontal"===m.params.direction}function i(){m.autoplayTimeoutId=setTimeout(function(){m.params.loop?(m.fixLoop(),m._slideNext()):m.isEnd?t.autoplayStopOnLast?m.stopAutoplay():m._slideTo(0):m._slideNext()},m.params.autoplay)}function n(e,t){var a=h(e.target);if(!a.is(t))if("string"==typeof t)a=a.parents(t);else if(t.nodeType){var i;return a.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}return 0===a.length?void 0:a[0]}function r(e,t){t=t||{};var a=window.MutationObserver||window.WebkitMutationObserver,i=new a(function(e){e.forEach(function(e){m.onResize(),m.emit("onObserverUpdate",m,e)})});i.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData}),m.observers.push(i)}function s(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(m.container.parents(".swiper-slide").length>0&&0===m.container.parents(".swiper-slide-active").length)return;for(var n={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,s=window.innerHeight,o=m.container.offset(),l=[[o.left,o.top],[o.left+m.width,o.top],[o.left,o.top+m.height],[o.left+m.width,o.top+m.height]],d=0;d<l.length;d++){var p=l[d];p[0]>=n.left&&p[0]<=n.left+r&&p[1]>=n.top&&p[1]<=n.top+s&&(i=!0)}if(!i)return}a()?((37===t||39===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),39===t&&m.slideNext(),37===t&&m.slidePrev()):((38===t||40===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&m.slideNext(),38===t&&m.slidePrev())}}function o(e){e.originalEvent&&(e=e.originalEvent);var t=m._wheelEvent,i=0;if(e.detail)i=-e.detail;else if("mousewheel"===t)if(m.params.mousewheelForceToAxis)if(a()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;i=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;i=e.wheelDeltaY}else i=e.wheelDelta;else if("DOMMouseScroll"===t)i=-e.detail;else if("wheel"===t)if(m.params.mousewheelForceToAxis)if(a()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;i=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;i=-e.deltaY}else i=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(m.params.freeMode){var n=m.getWrapperTranslate()+i;if(n>0&&(n=0),n<m.maxTranslate()&&(n=m.maxTranslate()),m.setWrapperTransition(0),m.setWrapperTranslate(n),m.updateProgress(),m.updateActiveIndex(),0===n||n===m.maxTranslate())return}else(new Date).getTime()-m._lastWheelScrollTime>60&&(0>i?m.slideNext():m.slidePrev()),m._lastWheelScrollTime=(new Date).getTime();return m.params.autoplay&&m.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function l(e,t){e=h(e);var i,n,r;i=e.attr("data-swiper-parallax")||"0",n=e.attr("data-swiper-parallax-x"),r=e.attr("data-swiper-parallax-y"),n||r?(n=n||"0",r=r||"0"):a()?(n=i,r="0"):(r=i,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*t+"%":n*t+"px",r=r.indexOf("%")>=0?parseInt(r,10)*t+"%":r*t+"px",e.transform("translate3d("+n+", "+r+",0px)")}function d(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof Swiper))return new Swiper(e,t);var p={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},c=t&&t.virtualTranslate;t=t||{};for(var u in p)if("undefined"==typeof t[u])t[u]=p[u];else if("object"==typeof t[u])for(var f in p[u])"undefined"==typeof t[u][f]&&(t[u][f]=p[u][f]);var m=this;m.params=t,m.classNames=[];var h;if(h="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,h&&(m.$=h,m.container=h(e),0!==m.container.length)){if(m.container.length>1)return void m.container.each(function(){new Swiper(this,t)});m.container[0].swiper=m,m.container.data("swiper",m),m.classNames.push("swiper-container-"+m.params.direction),m.params.freeMode&&m.classNames.push("swiper-container-free-mode"),m.support.flexbox||(m.classNames.push("swiper-container-no-flexbox"),m.params.slidesPerColumn=1),(m.params.parallax||m.params.watchSlidesVisibility)&&(m.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(m.params.effect)>=0&&(m.support.transforms3d?(m.params.watchSlidesProgress=!0,m.classNames.push("swiper-container-3d")):m.params.effect="slide"),"slide"!==m.params.effect&&m.classNames.push("swiper-container-"+m.params.effect),"cube"===m.params.effect&&(m.params.resistanceRatio=0,m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.centeredSlides=!1,m.params.spaceBetween=0,m.params.virtualTranslate=!0,m.params.setWrapperSize=!1),"fade"===m.params.effect&&(m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.watchSlidesProgress=!0,m.params.spaceBetween=0,"undefined"==typeof c&&(m.params.virtualTranslate=!0)),m.params.grabCursor&&m.support.touch&&(m.params.grabCursor=!1),m.wrapper=m.container.children("."+m.params.wrapperClass),m.params.pagination&&(m.paginationContainer=h(m.params.pagination),m.params.paginationClickable&&m.paginationContainer.addClass("swiper-pagination-clickable")),m.rtl=a()&&("rtl"===m.container[0].dir.toLowerCase()||"rtl"===m.container.css("direction")),m.rtl&&m.classNames.push("swiper-container-rtl"),m.rtl&&(m.wrongRTL="-webkit-box"===m.wrapper.css("display")),m.params.slidesPerColumn>1&&m.classNames.push("swiper-container-multirow"),m.device.android&&m.classNames.push("swiper-container-android"),m.container.addClass(m.classNames.join(" ")),m.translate=0,m.progress=0,m.velocity=0,m.lockSwipeToNext=function(){m.params.allowSwipeToNext=!1},m.lockSwipeToPrev=function(){m.params.allowSwipeToPrev=!1},m.lockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!1},m.unlockSwipeToNext=function(){m.params.allowSwipeToNext=!0},m.unlockSwipeToPrev=function(){m.params.allowSwipeToPrev=!0},m.unlockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!0},m.params.grabCursor&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grab",m.container[0].style.cursor="-moz-grab",m.container[0].style.cursor="grab"),m.imagesToLoad=[],m.imagesLoaded=0,m.loadImage=function(e,t,a,i){function n(){i&&i()}var r;e.complete&&a?n():t?(r=new Image,r.onload=n,r.onerror=n,r.src=t):n()},m.preloadImages=function(){function e(){"undefined"!=typeof m&&null!==m&&(void 0!==m.imagesLoaded&&m.imagesLoaded++,m.imagesLoaded===m.imagesToLoad.length&&(m.params.updateOnImagesReady&&m.update(),m.emit("onImagesReady",m)))}m.imagesToLoad=m.container.find("img");for(var t=0;t<m.imagesToLoad.length;t++)m.loadImage(m.imagesToLoad[t],m.imagesToLoad[t].currentSrc||m.imagesToLoad[t].getAttribute("src"),!0,e)},m.autoplayTimeoutId=void 0,m.autoplaying=!1,m.autoplayPaused=!1,m.startAutoplay=function(){return"undefined"!=typeof m.autoplayTimeoutId?!1:m.params.autoplay?m.autoplaying?!1:(m.autoplaying=!0,m.emit("onAutoplayStart",m),void i()):!1},m.stopAutoplay=function(){m.autoplayTimeoutId&&(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplaying=!1,m.autoplayTimeoutId=void 0,m.emit("onAutoplayStop",m))},m.pauseAutoplay=function(e){m.autoplayPaused||(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplayPaused=!0,0===e?(m.autoplayPaused=!1,i()):m.wrapper.transitionEnd(function(){m.autoplayPaused=!1,m.autoplaying?i():m.stopAutoplay()}))},m.minTranslate=function(){return-m.snapGrid[0]},m.maxTranslate=function(){return-m.snapGrid[m.snapGrid.length-1]},m.updateContainerSize=function(){m.width=m.container[0].clientWidth,m.height=m.container[0].clientHeight,m.size=a()?m.width:m.height},m.updateSlidesSize=function(){m.slides=m.wrapper.children("."+m.params.slideClass),m.snapGrid=[],m.slidesGrid=[],m.slidesSizesGrid=[];var e,t=m.params.spaceBetween,i=0,n=0,r=0;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*m.size),m.virtualSize=-t,m.slides.css(m.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var s;m.params.slidesPerColumn>1&&(s=Math.floor(m.slides.length/m.params.slidesPerColumn)===m.slides.length/m.params.slidesPerColumn?m.slides.length:Math.ceil(m.slides.length/m.params.slidesPerColumn)*m.params.slidesPerColumn);var o;for(e=0;e<m.slides.length;e++){o=0;var l=m.slides.eq(e);if(m.params.slidesPerColumn>1){var d,p,c,u,f=m.params.slidesPerColumn;"column"===m.params.slidesPerColumnFill?(p=Math.floor(e/f),c=e-p*f,d=p+c*s/f,l.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):(u=s/f,c=Math.floor(e/u),p=e-c*u),l.css({"margin-top":0!==c&&m.params.spaceBetween&&m.params.spaceBetween+"px"}).attr("data-swiper-column",p).attr("data-swiper-row",c)}"none"!==l.css("display")&&("auto"===m.params.slidesPerView?o=a()?l.outerWidth(!0):l.outerHeight(!0):(o=(m.size-(m.params.slidesPerView-1)*t)/m.params.slidesPerView,a()?m.slides[e].style.width=o+"px":m.slides[e].style.height=o+"px"),m.slides[e].swiperSlideSize=o,m.slidesSizesGrid.push(o),m.params.centeredSlides?(i=i+o/2+n/2+t,0===e&&(i=i-m.size/2-t),Math.abs(i)<.001&&(i=0),r%m.params.slidesPerGroup===0&&m.snapGrid.push(i),m.slidesGrid.push(i)):(r%m.params.slidesPerGroup===0&&m.snapGrid.push(i),m.slidesGrid.push(i),i=i+o+t),m.virtualSize+=o+t,n=o,r++)}m.virtualSize=Math.max(m.virtualSize,m.size);var h;if(m.rtl&&m.wrongRTL&&("slide"===m.params.effect||"coverflow"===m.params.effect)&&m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}),(!m.support.flexbox||m.params.setWrapperSize)&&m.wrapper.css(a()?{width:m.virtualSize+m.params.spaceBetween+"px"}:{height:m.virtualSize+m.params.spaceBetween+"px"}),m.params.slidesPerColumn>1&&(m.virtualSize=(o+m.params.spaceBetween)*s,m.virtualSize=Math.ceil(m.virtualSize/m.params.slidesPerColumn)-m.params.spaceBetween,m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}),m.params.centeredSlides)){for(h=[],e=0;e<m.snapGrid.length;e++)m.snapGrid[e]<m.virtualSize+m.snapGrid[0]&&h.push(m.snapGrid[e]);m.snapGrid=h}if(!m.params.centeredSlides){for(h=[],e=0;e<m.snapGrid.length;e++)m.snapGrid[e]<=m.virtualSize-m.size&&h.push(m.snapGrid[e]);m.snapGrid=h,Math.floor(m.virtualSize-m.size)>Math.floor(m.snapGrid[m.snapGrid.length-1])&&m.snapGrid.push(m.virtualSize-m.size)}0===m.snapGrid.length&&(m.snapGrid=[0]),0!==m.params.spaceBetween&&m.slides.css(a()?m.rtl?{marginLeft:t+"px"}:{marginRight:t+"px"}:{marginBottom:t+"px"}),m.params.watchSlidesProgress&&m.updateSlidesOffset()},m.updateSlidesOffset=function(){for(var e=0;e<m.slides.length;e++)m.slides[e].swiperSlideOffset=a()?m.slides[e].offsetLeft:m.slides[e].offsetTop},m.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=m.translate||0),0!==m.slides.length){"undefined"==typeof m.slides[0].swiperSlideOffset&&m.updateSlidesOffset();var t=m.params.centeredSlides?-e+m.size/2:-e;m.rtl&&(t=m.params.centeredSlides?e-m.size/2:e);{m.container[0].getBoundingClientRect(),a()?"left":"top",a()?"right":"bottom"}m.slides.removeClass(m.params.slideVisibleClass);for(var i=0;i<m.slides.length;i++){var n=m.slides[i],r=m.params.centeredSlides===!0?n.swiperSlideSize/2:0,s=(t-n.swiperSlideOffset-r)/(n.swiperSlideSize+m.params.spaceBetween);if(m.params.watchSlidesVisibility){var o=-(t-n.swiperSlideOffset-r),l=o+m.slidesSizesGrid[i],d=o>=0&&o<m.size||l>0&&l<=m.size||0>=o&&l>=m.size;d&&m.slides.eq(i).addClass(m.params.slideVisibleClass)}n.progress=m.rtl?-s:s}}},m.updateProgress=function(e){"undefined"==typeof e&&(e=m.translate||0);var t=m.maxTranslate()-m.minTranslate();0===t?(m.progress=0,m.isBeginning=m.isEnd=!0):(m.progress=(e-m.minTranslate())/t,m.isBeginning=m.progress<=0,m.isEnd=m.progress>=1),m.isBeginning&&m.emit("onReachBeginning",m),m.isEnd&&m.emit("onReachEnd",m),m.params.watchSlidesProgress&&m.updateSlidesProgress(e),m.emit("onProgress",m,m.progress)},m.updateActiveIndex=function(){var e,t,a,i=m.rtl?m.translate:-m.translate;for(t=0;t<m.slidesGrid.length;t++)"undefined"!=typeof m.slidesGrid[t+1]?i>=m.slidesGrid[t]&&i<m.slidesGrid[t+1]-(m.slidesGrid[t+1]-m.slidesGrid[t])/2?e=t:i>=m.slidesGrid[t]&&i<m.slidesGrid[t+1]&&(e=t+1):i>=m.slidesGrid[t]&&(e=t);(0>e||"undefined"==typeof e)&&(e=0),a=Math.floor(e/m.params.slidesPerGroup),a>=m.snapGrid.length&&(a=m.snapGrid.length-1),e!==m.activeIndex&&(m.snapIndex=a,m.previousIndex=m.activeIndex,m.activeIndex=e,m.updateClasses())},m.updateClasses=function(){m.slides.removeClass(m.params.slideActiveClass+" "+m.params.slideNextClass+" "+m.params.slidePrevClass);var e=m.slides.eq(m.activeIndex);if(e.addClass(m.params.slideActiveClass),e.next("."+m.params.slideClass).addClass(m.params.slideNextClass),e.prev("."+m.params.slideClass).addClass(m.params.slidePrevClass),m.bullets&&m.bullets.length>0){m.bullets.removeClass(m.params.bulletActiveClass);var t;m.params.loop?(t=Math.ceil(m.activeIndex-m.loopedSlides)/m.params.slidesPerGroup,t>m.slides.length-1-2*m.loopedSlides&&(t-=m.slides.length-2*m.loopedSlides),t>m.bullets.length-1&&(t-=m.bullets.length)):t="undefined"!=typeof m.snapIndex?m.snapIndex:m.activeIndex||0,m.paginationContainer.length>1?m.bullets.each(function(){h(this).index()===t&&h(this).addClass(m.params.bulletActiveClass)}):m.bullets.eq(t).addClass(m.params.bulletActiveClass)}m.params.loop||(m.params.prevButton&&(m.isBeginning?(h(m.params.prevButton).addClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.disable(h(m.params.prevButton))):(h(m.params.prevButton).removeClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.enable(h(m.params.prevButton)))),m.params.nextButton&&(m.isEnd?(h(m.params.nextButton).addClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.disable(h(m.params.nextButton))):(h(m.params.nextButton).removeClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.enable(h(m.params.nextButton)))))},m.updatePagination=function(){if(m.params.pagination&&m.paginationContainer&&m.paginationContainer.length>0){for(var e="",t=m.params.loop?Math.ceil((m.slides.length-2*m.loopedSlides)/m.params.slidesPerGroup):m.snapGrid.length,a=0;t>a;a++)e+=m.params.paginationBulletRender?m.params.paginationBulletRender(a,m.params.bulletClass):'<span class="'+m.params.bulletClass+'"></span>';m.paginationContainer.html(e),m.bullets=m.paginationContainer.find("."+m.params.bulletClass)}},m.update=function(e){function t(){i=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate()),m.setWrapperTranslate(i),m.updateActiveIndex(),m.updateClasses()}if(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),m.updatePagination(),m.updateClasses(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),e){var a,i;m.params.freeMode?t():(a="auto"===m.params.slidesPerView&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0),a||t())}},m.onResize=function(){if(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),("auto"===m.params.slidesPerView||m.params.freeMode)&&m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),m.params.freeMode){var e=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate());m.setWrapperTranslate(e),m.updateActiveIndex(),m.updateClasses()}else m.updateClasses(),"auto"===m.params.slidesPerView&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0)};var g=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?g=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(g=["MSPointerDown","MSPointerMove","MSPointerUp"]),m.touchEvents={start:m.support.touch||!m.params.simulateTouch?"touchstart":g[0],move:m.support.touch||!m.params.simulateTouch?"touchmove":g[1],end:m.support.touch||!m.params.simulateTouch?"touchend":g[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===m.params.touchEventsTarget?m.container:m.wrapper).addClass("swiper-wp8-"+m.params.direction),m.initEvents=function(e){var a=e?"off":"on",i=e?"removeEventListener":"addEventListener",n="container"===m.params.touchEventsTarget?m.container[0]:m.wrapper[0],r=m.support.touch?n:document,s=m.params.nested?!0:!1;m.browser.ie?(n[i](m.touchEvents.start,m.onTouchStart,!1),r[i](m.touchEvents.move,m.onTouchMove,s),r[i](m.touchEvents.end,m.onTouchEnd,!1)):(m.support.touch&&(n[i](m.touchEvents.start,m.onTouchStart,!1),n[i](m.touchEvents.move,m.onTouchMove,s),n[i](m.touchEvents.end,m.onTouchEnd,!1)),!t.simulateTouch||m.device.ios||m.device.android||(n[i]("mousedown",m.onTouchStart,!1),r[i]("mousemove",m.onTouchMove,s),r[i]("mouseup",m.onTouchEnd,!1))),window[i]("resize",m.onResize),m.params.nextButton&&(h(m.params.nextButton)[a]("click",m.onClickNext),m.params.a11y&&m.a11y&&h(m.params.nextButton)[a]("keydown",m.a11y.onEnterKey)),m.params.prevButton&&(h(m.params.prevButton)[a]("click",m.onClickPrev),m.params.a11y&&m.a11y&&h(m.params.prevButton)[a]("keydown",m.a11y.onEnterKey)),m.params.pagination&&m.params.paginationClickable&&h(m.paginationContainer)[a]("click","."+m.params.bulletClass,m.onClickIndex),(m.params.preventClicks||m.params.preventClicksPropagation)&&n[i]("click",m.preventClicks,!0)},m.attachEvents=function(){m.initEvents()},m.detachEvents=function(){m.initEvents(!0)},m.allowClick=!0,m.preventClicks=function(e){m.allowClick||(m.params.preventClicks&&e.preventDefault(),m.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},m.onClickNext=function(e){e.preventDefault(),m.slideNext()},m.onClickPrev=function(e){e.preventDefault(),m.slidePrev()},m.onClickIndex=function(e){e.preventDefault();var t=h(this).index()*m.params.slidesPerGroup;m.params.loop&&(t+=m.loopedSlides),m.slideTo(t)},m.updateClickedSlide=function(e){var t=n(e,"."+m.params.slideClass);if(!t)return m.clickedSlide=void 0,void(m.clickedIndex=void 0);if(m.clickedSlide=t,m.clickedIndex=h(t).index(),m.params.slideToClickedSlide&&void 0!==m.clickedIndex&&m.clickedIndex!==m.activeIndex){var a,i=m.clickedIndex;if(m.params.loop)if(a=h(m.clickedSlide).attr("data-swiper-slide-index"),i>m.slides.length-m.params.slidesPerView)m.fixLoop(),i=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+a+'"]').eq(0).index(),setTimeout(function(){m.slideTo(i)},0);else if(i<m.params.slidesPerView-1){m.fixLoop();var r=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+a+'"]');i=r.eq(r.length-1).index(),setTimeout(function(){m.slideTo(i)},0)}else m.slideTo(i);else m.slideTo(i)}};var v,w,b,y,x,T,C,S,k,M="input, select, textarea, button",E=Date.now(),P=[];m.animating=!1,m.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var z,I;if(m.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),z="touchstart"===e.type,z||!("which"in e)||3!==e.which){if(m.params.noSwiping&&n(e,"."+m.params.noSwipingClass))return void(m.allowClick=!0);if(!m.params.swipeHandler||n(e,m.params.swipeHandler)){if(v=!0,w=!1,y=void 0,I=void 0,m.touches.startX=m.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,m.touches.startY=m.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,b=Date.now(),m.allowClick=!0,m.updateContainerSize(),m.swipeDirection=void 0,m.params.threshold>0&&(C=!1),"touchstart"!==e.type){var t=!0;h(e.target).is(M)&&(t=!1),document.activeElement&&h(document.activeElement).is(M)&&document.activeElement.blur(),t&&e.preventDefault()}m.emit("onTouchStart",m,e)}}},m.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(z&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(m.params.onlyExternal)return w=!0,void(m.allowClick=!1);if(z&&document.activeElement&&e.target===document.activeElement&&h(e.target).is(M))return w=!0,void(m.allowClick=!1);if(m.emit("onTouchMove",m,e),!(e.targetTouches&&e.targetTouches.length>1)){if(m.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,m.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof y){var i=180*Math.atan2(Math.abs(m.touches.currentY-m.touches.startY),Math.abs(m.touches.currentX-m.touches.startX))/Math.PI;y=a()?i>m.params.touchAngle:90-i>m.params.touchAngle}if(y&&m.emit("onTouchMoveOpposite",m,e),"undefined"==typeof I&&m.browser.ieTouch&&(m.touches.currentX!==m.touches.startX||m.touches.currentY!==m.touches.startY)&&(I=!0),v){if(y)return void(v=!1);if(I||!m.browser.ieTouch){m.allowClick=!1,m.emit("onSliderMove",m,e),e.preventDefault(),m.params.touchMoveStopPropagation&&!m.params.nested&&e.stopPropagation(),w||(t.loop&&m.fixLoop(),T=m.getWrapperTranslate(),m.setWrapperTransition(0),m.animating&&m.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),m.params.autoplay&&m.autoplaying&&(m.params.autoplayDisableOnInteraction?m.stopAutoplay():m.pauseAutoplay()),k=!1,m.params.grabCursor&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grabbing",m.container[0].style.cursor="-moz-grabbin",m.container[0].style.cursor="grabbing")),w=!0;var n=m.touches.diff=a()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY;n*=m.params.touchRatio,m.rtl&&(n=-n),m.swipeDirection=n>0?"prev":"next",x=n+T;var r=!0;if(n>0&&x>m.minTranslate()?(r=!1,m.params.resistance&&(x=m.minTranslate()-1+Math.pow(-m.minTranslate()+T+n,m.params.resistanceRatio))):0>n&&x<m.maxTranslate()&&(r=!1,m.params.resistance&&(x=m.maxTranslate()+1-Math.pow(m.maxTranslate()-T-n,m.params.resistanceRatio))),r&&(e.preventedByNestedSwiper=!0),!m.params.allowSwipeToNext&&"next"===m.swipeDirection&&T>x&&(x=T),!m.params.allowSwipeToPrev&&"prev"===m.swipeDirection&&x>T&&(x=T),m.params.followFinger){if(m.params.threshold>0){if(!(Math.abs(n)>m.params.threshold||C))return void(x=T);if(!C)return C=!0,m.touches.startX=m.touches.currentX,m.touches.startY=m.touches.currentY,x=T,void(m.touches.diff=a()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY)}(m.params.freeMode||m.params.watchSlidesProgress)&&m.updateActiveIndex(),m.params.freeMode&&(0===P.length&&P.push({position:m.touches[a()?"startX":"startY"],time:b}),P.push({position:m.touches[a()?"currentX":"currentY"],time:(new Date).getTime()})),m.updateProgress(x),m.setWrapperTranslate(x)}}}}}},m.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),m.emit("onTouchEnd",m,e),v){m.params.grabCursor&&w&&v&&(m.container[0].style.cursor="move",m.container[0].style.cursor="-webkit-grab",m.container[0].style.cursor="-moz-grab",m.container[0].style.cursor="grab");var t=Date.now(),a=t-b;if(m.allowClick&&(m.updateClickedSlide(e),m.emit("onTap",m,e),300>a&&t-E>300&&(S&&clearTimeout(S),S=setTimeout(function(){m&&(m.params.paginationHide&&m.paginationContainer.length>0&&!h(e.target).hasClass(m.params.bulletClass)&&m.paginationContainer.toggleClass(m.params.paginationHiddenClass),m.emit("onClick",m,e))},300)),300>a&&300>t-E&&(S&&clearTimeout(S),m.emit("onDoubleTap",m,e))),E=Date.now(),setTimeout(function(){m&&m.allowClick&&(m.allowClick=!0)},0),!v||!w||!m.swipeDirection||0===m.touches.diff||x===T)return void(v=w=!1);v=w=!1;var i;if(i=m.params.followFinger?m.rtl?m.translate:-m.translate:-x,m.params.freeMode){if(i<-m.minTranslate())return void m.slideTo(m.activeIndex);if(i>-m.maxTranslate())return void m.slideTo(m.slides.length-1);if(m.params.freeModeMomentum){if(P.length>1){var n=P.pop(),r=P.pop(),s=n.position-r.position,o=n.time-r.time;m.velocity=s/o,m.velocity=m.velocity/2,Math.abs(m.velocity)<.02&&(m.velocity=0),(o>150||(new Date).getTime()-n.time>300)&&(m.velocity=0)}else m.velocity=0;P.length=0;var l=1e3*m.params.freeModeMomentumRatio,d=m.velocity*l,p=m.translate+d;m.rtl&&(p=-p);var c,u=!1,f=20*Math.abs(m.velocity)*m.params.freeModeMomentumBounceRatio;p<m.maxTranslate()&&(m.params.freeModeMomentumBounce?(p+m.maxTranslate()<-f&&(p=m.maxTranslate()-f),c=m.maxTranslate(),u=!0,k=!0):p=m.maxTranslate()),p>m.minTranslate()&&(m.params.freeModeMomentumBounce?(p-m.minTranslate()>f&&(p=m.minTranslate()+f),c=m.minTranslate(),u=!0,k=!0):p=m.minTranslate()),0!==m.velocity&&(l=Math.abs(m.rtl?(-p-m.translate)/m.velocity:(p-m.translate)/m.velocity)),m.params.freeModeMomentumBounce&&u?(m.updateProgress(c),m.setWrapperTransition(l),m.setWrapperTranslate(p),m.onTransitionStart(),m.animating=!0,m.wrapper.transitionEnd(function(){k&&(m.emit("onMomentumBounce",m),m.setWrapperTransition(m.params.speed),m.setWrapperTranslate(c),m.wrapper.transitionEnd(function(){m.onTransitionEnd()}))})):m.velocity?(m.updateProgress(p),m.setWrapperTransition(l),m.setWrapperTranslate(p),m.onTransitionStart(),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m.onTransitionEnd()}))):m.updateProgress(p),m.updateActiveIndex()}return void((!m.params.freeModeMomentum||a>=m.params.longSwipesMs)&&(m.updateProgress(),m.updateActiveIndex()))}var g,y=0,C=m.slidesSizesGrid[0];for(g=0;g<m.slidesGrid.length;g+=m.params.slidesPerGroup)"undefined"!=typeof m.slidesGrid[g+m.params.slidesPerGroup]?i>=m.slidesGrid[g]&&i<m.slidesGrid[g+m.params.slidesPerGroup]&&(y=g,C=m.slidesGrid[g+m.params.slidesPerGroup]-m.slidesGrid[g]):i>=m.slidesGrid[g]&&(y=g,C=m.slidesGrid[m.slidesGrid.length-1]-m.slidesGrid[m.slidesGrid.length-2]);var M=(i-m.slidesGrid[y])/C;if(a>m.params.longSwipesMs){if(!m.params.longSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&m.slideTo(M>=m.params.longSwipesRatio?y+m.params.slidesPerGroup:y),"prev"===m.swipeDirection&&m.slideTo(M>1-m.params.longSwipesRatio?y+m.params.slidesPerGroup:y)}else{if(!m.params.shortSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&m.slideTo(y+m.params.slidesPerGroup),"prev"===m.swipeDirection&&m.slideTo(y)}}},m._slideTo=function(e,t){return m.slideTo(e,t,!0,!0)},m.slideTo=function(e,t,i,n){"undefined"==typeof i&&(i=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),m.snapIndex=Math.floor(e/m.params.slidesPerGroup),m.snapIndex>=m.snapGrid.length&&(m.snapIndex=m.snapGrid.length-1);var r=-m.snapGrid[m.snapIndex];m.params.autoplay&&m.autoplaying&&(n||!m.params.autoplayDisableOnInteraction?m.pauseAutoplay(t):m.stopAutoplay()),m.updateProgress(r);for(var s=0;s<m.slidesGrid.length;s++)-r>=m.slidesGrid[s]&&(e=s);if("undefined"==typeof t&&(t=m.params.speed),m.previousIndex=m.activeIndex||0,m.activeIndex=e,r===m.translate)return m.updateClasses(),!1;m.onTransitionStart(i);a()?r:0,a()?0:r;return 0===t?(m.setWrapperTransition(0),m.setWrapperTranslate(r),m.onTransitionEnd(i)):(m.setWrapperTransition(t),m.setWrapperTranslate(r),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m.onTransitionEnd(i)}))),m.updateClasses(),!0},m.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),m.lazy&&m.lazy.onTransitionStart(),e&&(m.emit("onTransitionStart",m),m.activeIndex!==m.previousIndex&&m.emit("onSlideChangeStart",m))},m.onTransitionEnd=function(e){m.animating=!1,m.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),m.lazy&&m.lazy.onTransitionEnd(),e&&(m.emit("onTransitionEnd",m),m.activeIndex!==m.previousIndex&&m.emit("onSlideChangeEnd",m)),m.params.hashnav&&m.hashnav&&m.hashnav.setHash()},m.slideNext=function(e,t,a){if(m.params.loop){if(m.animating)return!1;m.fixLoop();{m.container[0].clientLeft}return m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,a)}return m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,a)},m._slideNext=function(e){return m.slideNext(!0,e,!0)},m.slidePrev=function(e,t,a){if(m.params.loop){if(m.animating)return!1;m.fixLoop();{m.container[0].clientLeft}return m.slideTo(m.activeIndex-1,t,e,a)}return m.slideTo(m.activeIndex-1,t,e,a)},m._slidePrev=function(e){return m.slidePrev(!0,e,!0)},m.slideReset=function(e,t){return m.slideTo(m.activeIndex,t,e)},m.setWrapperTransition=function(e,t){m.wrapper.transition(e),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTransition(e),m.params.parallax&&m.parallax&&m.parallax.setTransition(e),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTransition(e),m.params.control&&m.controller&&m.controller.setTransition(e,t),m.emit("onSetTransition",m,e)},m.setWrapperTranslate=function(e,t,i){var n=0,r=0,s=0;a()?n=m.rtl?-e:e:r=e,m.params.virtualTranslate||m.wrapper.transform(m.support.transforms3d?"translate3d("+n+"px, "+r+"px, "+s+"px)":"translate("+n+"px, "+r+"px)"),m.translate=a()?n:r,t&&m.updateActiveIndex(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTranslate(m.translate),m.params.parallax&&m.parallax&&m.parallax.setTranslate(m.translate),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTranslate(m.translate),m.params.control&&m.controller&&m.controller.setTranslate(m.translate,i),m.emit("onSetTranslate",m,m.translate)},m.getTranslate=function(e,t){var a,i,n,r;return"undefined"==typeof t&&(t="x"),m.params.virtualTranslate?m.rtl?-m.translate:m.translate:(n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===n.webkitTransform?"":n.webkitTransform):(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?r.m41:parseFloat(16===a.length?a[12]:a[4])),"y"===t&&(i=window.WebKitCSSMatrix?r.m42:parseFloat(16===a.length?a[13]:a[5])),m.rtl&&i&&(i=-i),i||0)},m.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=a()?"x":"y"),m.getTranslate(m.wrapper[0],e)},m.observers=[],m.initObservers=function(){if(m.params.observeParents)for(var e=m.container.parents(),t=0;t<e.length;t++)r(e[t]);r(m.container[0],{childList:!1}),r(m.wrapper[0],{attributes:!1})},m.disconnectObservers=function(){for(var e=0;e<m.observers.length;e++)m.observers[e].disconnect();m.observers=[]},m.createLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove();var e=m.wrapper.children("."+m.params.slideClass);m.loopedSlides=parseInt(m.params.loopedSlides||m.params.slidesPerView,10),m.loopedSlides=m.loopedSlides+m.params.loopAdditionalSlides,m.loopedSlides>e.length&&(m.loopedSlides=e.length);var t,a=[],i=[];for(e.each(function(t,n){var r=h(this);t<m.loopedSlides&&i.push(n),t<e.length&&t>=e.length-m.loopedSlides&&a.push(n),r.attr("data-swiper-slide-index",t)}),t=0;t<i.length;t++)m.wrapper.append(h(i[t].cloneNode(!0)).addClass(m.params.slideDuplicateClass));for(t=a.length-1;t>=0;t--)m.wrapper.prepend(h(a[t].cloneNode(!0)).addClass(m.params.slideDuplicateClass))},m.destroyLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove(),m.slides.removeAttr("data-swiper-slide-index")
},m.fixLoop=function(){var e;m.activeIndex<m.loopedSlides?(e=m.slides.length-3*m.loopedSlides+m.activeIndex,e+=m.loopedSlides,m.slideTo(e,0,!1,!0)):("auto"===m.params.slidesPerView&&m.activeIndex>=2*m.loopedSlides||m.activeIndex>m.slides.length-2*m.params.slidesPerView)&&(e=-m.slides.length+m.activeIndex+m.loopedSlides,e+=m.loopedSlides,m.slideTo(e,0,!1,!0))},m.appendSlide=function(e){if(m.params.loop&&m.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&m.wrapper.append(e[t]);else m.wrapper.append(e);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0)},m.prependSlide=function(e){m.params.loop&&m.destroyLoop();var t=m.activeIndex+1;if("object"==typeof e&&e.length){for(var a=0;a<e.length;a++)e[a]&&m.wrapper.prepend(e[a]);t=m.activeIndex+e.length}else m.wrapper.prepend(e);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),m.slideTo(t,0,!1)},m.removeSlide=function(e){m.params.loop&&m.destroyLoop();var t,a=m.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],m.slides[t]&&m.slides.eq(t).remove(),a>t&&a--;a=Math.max(a,0)}else t=e,m.slides[t]&&m.slides.eq(t).remove(),a>t&&a--,a=Math.max(a,0);m.params.observer&&m.support.observer||m.update(!0),m.slideTo(a,0,!1)},m.removeAllSlides=function(){for(var e=[],t=0;t<m.slides.length;t++)e.push(t);m.removeSlide(e)},m.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<m.slides.length;e++){var t=m.slides.eq(e),i=t[0].swiperSlideOffset,n=-i;m.params.virtualTranslate||(n-=m.translate);var r=0;a()||(r=n,n=0);var s=m.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);s>0&&1>s&&(m.effects.fade.fadeIndex=e),t.css({opacity:s}).transform("translate3d("+n+"px, "+r+"px, 0px)")}},setTransition:function(e){if(m.slides.transition(e),m.params.virtualTranslate&&0!==e){var t=null!==m.effects.fade.fadeIndex?m.effects.fade.fadeIndex:m.activeIndex;m.slides.eq(t).transitionEnd(function(){for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)m.wrapper.trigger(e[t])})}}},cube:{setTranslate:function(){var e,t=0;m.params.cube.shadow&&(a()?(e=m.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=h('<div class="swiper-cube-shadow"></div>'),m.wrapper.append(e)),e.css({height:m.width+"px"})):(e=m.container.find(".swiper-cube-shadow"),0===e.length&&(e=h('<div class="swiper-cube-shadow"></div>'),m.container.append(e))));for(var i=0;i<m.slides.length;i++){var n=m.slides.eq(i),r=90*i,s=Math.floor(r/360);m.rtl&&(r=-r,s=Math.floor(-r/360));var o=Math.max(Math.min(n[0].progress,1),-1),l=0,d=0,p=0;i%4===0?(l=4*-s*m.size,p=0):(i-1)%4===0?(l=0,p=4*-s*m.size):(i-2)%4===0?(l=m.size+4*s*m.size,p=m.size):(i-3)%4===0&&(l=-m.size,p=3*m.size+4*m.size*s),m.rtl&&(l=-l),a()||(d=l,l=0);var c="rotateX("+(a()?0:-r)+"deg) rotateY("+(a()?r:0)+"deg) translate3d("+l+"px, "+d+"px, "+p+"px)";if(1>=o&&o>-1&&(t=90*i+90*o,m.rtl&&(t=90*-i-90*o)),n.transform(c),m.params.cube.slideShadows){var u=n.find(a()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=n.find(a()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===u.length&&(u=h('<div class="swiper-slide-shadow-'+(a()?"left":"top")+'"></div>'),n.append(u)),0===f.length&&(f=h('<div class="swiper-slide-shadow-'+(a()?"right":"bottom")+'"></div>'),n.append(f));{n[0].progress}u.length&&(u[0].style.opacity=-n[0].progress),f.length&&(f[0].style.opacity=n[0].progress)}}if(m.wrapper.css({"-webkit-transform-origin":"50% 50% -"+m.size/2+"px","-moz-transform-origin":"50% 50% -"+m.size/2+"px","-ms-transform-origin":"50% 50% -"+m.size/2+"px","transform-origin":"50% 50% -"+m.size/2+"px"}),m.params.cube.shadow)if(a())e.transform("translate3d(0px, "+(m.width/2+m.params.cube.shadowOffset)+"px, "+-m.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+m.params.cube.shadowScale+")");else{var g=Math.abs(t)-90*Math.floor(Math.abs(t)/90),v=1.5-(Math.sin(2*g*Math.PI/360)/2+Math.cos(2*g*Math.PI/360)/2),w=m.params.cube.shadowScale,b=m.params.cube.shadowScale/v,y=m.params.cube.shadowOffset;e.transform("scale3d("+w+", 1, "+b+") translate3d(0px, "+(m.height/2+y)+"px, "+-m.height/2/b+"px) rotateX(-90deg)")}var x=m.isSafari||m.isUiWebView?-m.size/2:0;m.wrapper.transform("translate3d(0px,0,"+x+"px) rotateX("+(a()?0:t)+"deg) rotateY("+(a()?-t:0)+"deg)")},setTransition:function(e){m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),m.params.cube.shadow&&!a()&&m.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=m.translate,t=a()?-e+m.width/2:-e+m.height/2,i=a()?m.params.coverflow.rotate:-m.params.coverflow.rotate,n=m.params.coverflow.depth,r=0,s=m.slides.length;s>r;r++){var o=m.slides.eq(r),l=m.slidesSizesGrid[r],d=o[0].swiperSlideOffset,p=(t-d-l/2)/l*m.params.coverflow.modifier,c=a()?i*p:0,u=a()?0:i*p,f=-n*Math.abs(p),g=a()?0:m.params.coverflow.stretch*p,v=a()?m.params.coverflow.stretch*p:0;Math.abs(v)<.001&&(v=0),Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(c)<.001&&(c=0),Math.abs(u)<.001&&(u=0);var w="translate3d("+v+"px,"+g+"px,"+f+"px)  rotateX("+u+"deg) rotateY("+c+"deg)";if(o.transform(w),o[0].style.zIndex=-Math.abs(Math.round(p))+1,m.params.coverflow.slideShadows){var b=o.find(a()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),y=o.find(a()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===b.length&&(b=h('<div class="swiper-slide-shadow-'+(a()?"left":"top")+'"></div>'),o.append(b)),0===y.length&&(y=h('<div class="swiper-slide-shadow-'+(a()?"right":"bottom")+'"></div>'),o.append(y)),b.length&&(b[0].style.opacity=p>0?p:0),y.length&&(y[0].style.opacity=-p>0?-p:0)}}if(m.browser.ie){var x=m.wrapper[0].style;x.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},m.lazy={initialImageLoaded:!1,loadImageInSlide:function(e){if("undefined"!=typeof e&&0!==m.slides.length){var t=m.slides.eq(e),a=t.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");0!==a.length&&a.each(function(){var e=h(this);e.addClass("swiper-lazy-loading");var a=e.attr("data-src");m.loadImage(e[0],a,!1,function(){e.attr("src",a),e.removeAttr("data-src"),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),t.find(".swiper-lazy-preloader, .preloader").remove(),m.emit("onLazyImageReady",m,t[0],e[0])}),m.emit("onLazyImageLoad",m,t[0],e[0])})}},load:function(){if(m.params.watchSlidesVisibility)m.wrapper.children("."+m.params.slideVisibleClass).each(function(){m.lazy.loadImageInSlide(h(this).index())});else if(m.params.slidesPerView>1)for(var e=m.activeIndex;e<m.activeIndex+m.params.slidesPerView;e++)m.slides[e]&&m.lazy.loadImageInSlide(e);else m.lazy.loadImageInSlide(m.activeIndex);if(m.params.lazyLoadingInPrevNext){var t=m.wrapper.children("."+m.params.slideNextClass);t.length>0&&m.lazy.loadImageInSlide(t.index());var a=m.wrapper.children("."+m.params.slidePrevClass);a.length>0&&m.lazy.loadImageInSlide(a.index())}},onTransitionStart:function(){m.params.lazyLoading&&(m.params.lazyLoadingOnTransitionStart||!m.params.lazyLoadingOnTransitionStart&&!m.lazy.initialImageLoaded)&&(m.lazy.initialImageLoaded=!0,m.lazy.load())},onTransitionEnd:function(){m.params.lazyLoading&&!m.params.lazyLoadingOnTransitionStart&&m.lazy.load()}},m.scrollbar={set:function(){if(m.params.scrollbar){var e=m.scrollbar;e.track=h(m.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=h('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=a()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=m.size/m.virtualSize,e.moveDivider=e.divider*(e.trackSize/m.size),e.dragSize=e.trackSize*e.divider,a()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.track[0].style.display=e.divider>=1?"none":"",m.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(m.params.scrollbar){var e,t=m.scrollbar,i=(m.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*m.progress,m.rtl&&a()?(e=-e,e>0?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e)):0>e?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),a()?(t.drag.transform(m.support.transforms3d?"translate3d("+e+"px, 0, 0)":"translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(t.drag.transform(m.support.transforms3d?"translate3d(0px, "+e+"px, 0)":"translateY("+e+"px)"),t.drag[0].style.height=i+"px"),m.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){m.params.scrollbar&&m.scrollbar.drag.transition(e)}},m.controller={setTranslate:function(e,t){var a,i,n=m.params.control;if(m.isArray(n))for(var r=0;r<n.length;r++)n[r]!==t&&n[r]instanceof Swiper&&(e=n[r].rtl&&"horizontal"===n[r].params.direction?-m.translate:m.translate,a=(n[r].maxTranslate()-n[r].minTranslate())/(m.maxTranslate()-m.minTranslate()),i=(e-m.minTranslate())*a+n[r].minTranslate(),m.params.controlInverse&&(i=n[r].maxTranslate()-i),n[r].updateProgress(i),n[r].setWrapperTranslate(i,!1,m),n[r].updateActiveIndex());else n instanceof Swiper&&t!==n&&(e=n.rtl&&"horizontal"===n.params.direction?-m.translate:m.translate,a=(n.maxTranslate()-n.minTranslate())/(m.maxTranslate()-m.minTranslate()),i=(e-m.minTranslate())*a+n.minTranslate(),m.params.controlInverse&&(i=n.maxTranslate()-i),n.updateProgress(i),n.setWrapperTranslate(i,!1,m),n.updateActiveIndex())},setTransition:function(e,t){var a=m.params.control;if(m.isArray(a))for(var i=0;i<a.length;i++)a[i]!==t&&a[i]instanceof Swiper&&a[i].setWrapperTransition(e,m);else a instanceof Swiper&&t!==a&&a.setWrapperTransition(e,m)}},m.hashnav={init:function(){if(m.params.hashnav){m.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,a=0,i=m.slides.length;i>a;a++){var n=m.slides.eq(a),r=n.attr("data-hash");if(r===e&&!n.hasClass(m.params.slideDuplicateClass)){var s=n.index();m.slideTo(s,t,m.params.runCallbacksOnInit,!0)}}}},setHash:function(){m.hashnav.initialized&&m.params.hashnav&&(document.location.hash=m.slides.eq(m.activeIndex).attr("data-hash")||"")}},m.disableKeyboardControl=function(){h(document).off("keydown",s)},m.enableKeyboardControl=function(){h(document).on("keydown",s)},m._wheelEvent=!1,m._lastWheelScrollTime=(new Date).getTime(),m.params.mousewheelControl){if(void 0!==document.onmousewheel&&(m._wheelEvent="mousewheel"),!m._wheelEvent)try{new WheelEvent("wheel"),m._wheelEvent="wheel"}catch(L){}m._wheelEvent||(m._wheelEvent="DOMMouseScroll")}m.disableMousewheelControl=function(){return m._wheelEvent?(m.container.off(m._wheelEvent,o),!0):!1},m.enableMousewheelControl=function(){return m._wheelEvent?(m.container.on(m._wheelEvent,o),!0):!1},m.parallax={setTranslate:function(){m.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){l(this,m.progress)}),m.slides.each(function(){var e=h(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);l(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=m.params.speed),m.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=h(this),a=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(a=0),t.transition(a)})}},m._plugins=[];for(var D in m.plugins){var O=m.plugins[D](m,m.params[D]);O&&m._plugins.push(O)}return m.callPlugins=function(e){for(var t=0;t<m._plugins.length;t++)e in m._plugins[t]&&m._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.emitterEventListeners={},m.emit=function(e){m.params[e]&&m.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(m.emitterEventListeners[e])for(t=0;t<m.emitterEventListeners[e].length;t++)m.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);m.callPlugins&&m.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.on=function(e,t){return e=d(e),m.emitterEventListeners[e]||(m.emitterEventListeners[e]=[]),m.emitterEventListeners[e].push(t),m},m.off=function(e,t){var a;if(e=d(e),"undefined"==typeof t)return m.emitterEventListeners[e]=[],m;if(m.emitterEventListeners[e]&&0!==m.emitterEventListeners[e].length){for(a=0;a<m.emitterEventListeners[e].length;a++)m.emitterEventListeners[e][a]===t&&m.emitterEventListeners[e].splice(a,1);return m}},m.once=function(e,t){e=d(e);var a=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),m.off(e,a)};return m.on(e,a),m},m.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(h(e.target).is(m.params.nextButton)?(m.onClickNext(e),m.a11y.notify(m.isEnd?m.params.lastSlideMsg:m.params.nextSlideMsg)):h(e.target).is(m.params.prevButton)&&(m.onClickPrev(e),m.a11y.notify(m.isBeginning?m.params.firstSlideMsg:m.params.prevSlideMsg)))},liveRegion:h('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=m.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(m.params.nextButton){var e=h(m.params.nextButton);m.a11y.makeFocusable(e),m.a11y.addRole(e,"button"),m.a11y.addLabel(e,m.params.nextSlideMsg)}if(m.params.prevButton){var t=h(m.params.prevButton);m.a11y.makeFocusable(t),m.a11y.addRole(t,"button"),m.a11y.addLabel(t,m.params.prevSlideMsg)}h(m.container).append(m.a11y.liveRegion)},destroy:function(){m.a11y.liveRegion&&m.a11y.liveRegion.length>0&&m.a11y.liveRegion.remove()}},m.init=function(){m.params.loop&&m.createLoop(),m.updateContainerSize(),m.updateSlidesSize(),m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&(m.params.loop||m.updateProgress(),m.effects[m.params.effect].setTranslate()),m.params.loop?m.slideTo(m.params.initialSlide+m.loopedSlides,0,m.params.runCallbacksOnInit):(m.slideTo(m.params.initialSlide,0,m.params.runCallbacksOnInit),0===m.params.initialSlide&&(m.parallax&&m.params.parallax&&m.parallax.setTranslate(),m.lazy&&m.params.lazyLoading&&m.lazy.load())),m.attachEvents(),m.params.observer&&m.support.observer&&m.initObservers(),m.params.preloadImages&&!m.params.lazyLoading&&m.preloadImages(),m.params.autoplay&&m.startAutoplay(),m.params.keyboardControl&&m.enableKeyboardControl&&m.enableKeyboardControl(),m.params.mousewheelControl&&m.enableMousewheelControl&&m.enableMousewheelControl(),m.params.hashnav&&m.hashnav&&m.hashnav.init(),m.params.a11y&&m.a11y&&m.a11y.init(),m.emit("onInit",m)},m.cleanupStyles=function(){m.container.removeClass(m.classNames.join(" ")).removeAttr("style"),m.wrapper.removeAttr("style"),m.slides&&m.slides.length&&m.slides.removeClass([m.params.slideVisibleClass,m.params.slideActiveClass,m.params.slideNextClass,m.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),m.paginationContainer&&m.paginationContainer.length&&m.paginationContainer.removeClass(m.params.paginationHiddenClass),m.bullets&&m.bullets.length&&m.bullets.removeClass(m.params.bulletActiveClass),m.params.prevButton&&h(m.params.prevButton).removeClass(m.params.buttonDisabledClass),m.params.nextButton&&h(m.params.nextButton).removeClass(m.params.buttonDisabledClass),m.params.scrollbar&&m.scrollbar&&(m.scrollbar.track&&m.scrollbar.track.length&&m.scrollbar.track.removeAttr("style"),m.scrollbar.drag&&m.scrollbar.drag.length&&m.scrollbar.drag.removeAttr("style"))},m.destroy=function(e,t){m.detachEvents(),m.stopAutoplay(),m.params.loop&&m.destroyLoop(),t&&m.cleanupStyles(),m.disconnectObservers(),m.params.keyboardControl&&m.disableKeyboardControl&&m.disableKeyboardControl(),m.params.mousewheelControl&&m.disableMousewheelControl&&m.disableMousewheelControl(),m.params.a11y&&m.a11y&&m.a11y.destroy(),m.emit("onDestroy"),e!==!1&&(m=null)},m.init(),m}},Swiper.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),i=(e.match(/(iPod)(.*OS\s([\d_]+))?/),!a&&e.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:a||i||a,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a++)if(t[a]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var t=["jQuery","Zepto","Dom7"],a=0;a<t.length;a++)window[t[a]]&&e(window[t[a]]);var i;i="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,i&&("transitionEnd"in i.fn||(i.fn.transitionEnd=function(e){function t(r){if(r.target===this)for(e.call(this,r),a=0;a<i.length;a++)n.off(i[a],t)}var a,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(a=0;a<i.length;a++)n.on(i[a],t);return this}),"transform"in i.fn||(i.fn.transform=function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this}),"transition"in i.fn||(i.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this}))}(),"undefined"!=typeof module?module.exports=Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper}),function(e,t){var a,i=function(t,a){this.el=t,this.defaults={},this.options=e.extend({},this.defaults,a)};i.prototype={init:function(){var e=this,a=e.el;return e.initSwiper(),e.bindEvents(),t.COMS=t.COMS||[],a.attr("data-initialized","true"),a.attr("data-guid",t.COMS.length),t.COMS.push(e),e},bindEvents:function(){{var e=this;e.el}},initSwiper:function(){{var e=this,t=e.el;t.find(".swiper-container .swiper-slide").length}a=t.find(".swiper-container").swiper({loop:!0,autoplay:3e3,speed:350,autoplayDisableOnInteraction:!1,pagination:t.find(".swiper-container .swiper-pagination"),paginationClickable:!0})}},e.fn.GridArticlesBanner=function(t){var a;return this.each(function(){var n=e(this);"true"!=n.attr("data-initialized")&&(a=new i(n,t),a.init())})}}(window.jQuery||window.Zepto,window,document),$(function(){var e=$("body");FastClick.attach(document.body),$(".com-header").Header({}),$(".com-sidebar-panel").SidebarPanel({}),$(".com-loader").Loader({}),$(".com-grid-articles-banner").GridArticlesBanner({}),$(".com-grid-paper").GridPaper({}),$(".com-grid-article").GridArticle({}),$(".com-grid-key-article").GridKeyArticle({}),$.fn.initLoginStatus(),$.fn.initLayout({elContainer:e.find(".packery-container"),elOriginContainer:e.find(".origin-container")}),$.fn.initLoadMore({prefetch:!0,lastKey:e.find(".origin-container").attr("data-lastkey"),baseUrl:"/mobile/homes/articlemore",elContainer:e.find(".packery-container"),elHTMLContainer:e.find(".origin-container"),elLoader:e.find(".com-loader"),callback:function(t){return t&&t.length?(t.filter(".com-grid-paper").GridPaper(),t.filter(".com-grid-article").GridArticle(),t.filter(".com-grid-key-article").GridKeyArticle(),$.fn.initLayout({elContainer:e.find(".packery-container"),elOriginContainer:e.find(".origin-container")}),t):void 0}})});